@tailwind base;
@tailwind components;
@tailwind utilities;

:root { color-scheme: light; }
html,body { height: 100%; }
body { @apply bg-paper text-ink antialiased; }

/* Inherit color for links; remove global blue */
a { color: inherit; text-decoration: none; } /* only add underline where needed */

/* Headings default: uppercase, tracking; no forced bold */
h1,h2,h3 { @apply uppercase tracking-wide font-normal; }

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
  background: var(--color-accent);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #1a2ee6;
}

:focus-visible { 
  outline: 2px solid var(--color-accent); 
  outline-offset: 2px; 
}

/* Smooth transitions for better UX */
* {
  transition: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;
}

:root{
  --left: 420px;     /* left column width */
  --right: 52ch;     /* right text width */
}

.em{
  min-height: 100svh;
  display: grid;
  gap: 0;
  grid-template-rows: 1fr auto 1fr auto 1fr auto 1fr;          /* vertical M's */
  grid-template-columns: 1fr var(--left) 1fr var(--right) 1fr; /* horizontal M's - right-aligned */
}

/* hardening */
[data-id="works"]{ display:inline-block; line-height:1; margin:0; padding:0; }

/* left cells removed from flow and centered */
.left-cell{ position: relative; min-height: 0; }
.left-abs{ position: absolute; left: 0; right: 0; top: 50%; transform: translateY(-50%); text-align: right; }

/* bottom-left line centered within bottom row */
.left-bottom{ position:absolute; left:0; right:0; top:50%; transform:translateY(-50%); }

.font-sans { font-family: var(--font-sans), system-ui, -apple-system, "Segoe UI", Arial, sans-serif; }
.font-serif { font-family: var(--font-serif), "Times New Roman", Times, serif; }

/* Custom Medium weight for EB Garamond (replaces SemiBold) */
.font-medium { font-weight: 500; }

/* Hide heading on about page but keep height */
.about-page [data-id="right-block"] h1 { visibility: hidden; }
a { color: inherit; text-decoration: none; } /* default no underline */

/* Kill margin leakage in measured cells */
[data-id="works"],
[data-id="logo-col"],
[data-id="right-block"],
[data-id="about"] {
  margin: 0;
  padding: 0;
  border: 0;
}

/* Right column hardening */
article[data-id="right-block"] {
  display: grid !important;
  row-gap: 10px !important;         /* controlled spacing only */
  margin: 0 !important;
  padding: 0 !important;            /* no internal top padding */
  align-self: start !important;     /* anchor to top of its grid row */
  max-width: var(--right) !important;
  position: relative !important;
  top: 0 !important;
}

/* Kill stray margins */
[data-id="right-block"] > * {
  margin: 0 !important;
}
[data-id="right-block"] > :first-child {
  margin-top: 0 !important;
}

/* Heading normalization */
[data-id="right-block"] h1 {
  line-height: 1 !important;
  margin: 0 !important;
}

/* Critical: remove top/bottom margins of first/last children */
[data-id="logo-col"] > :first-child,
[data-id="works"] > :first-child,
[data-id="about"] > :first-child {
  margin-top: 0;
}

[data-id="logo-col"] > :last-child,
[data-id="works"] > :last-child,
[data-id="about"] > :last-child {
  margin-bottom: 0;
}

/* forbid extra spacing leaking from the top label into the gap */
[data-id="works"] > * { 
  margin: 0; 
  padding: 0; 
}
[data-id="works"] { 
  line-height: 1; 
}

/* If typography plugin 'prose' is used anywhere: neutralize it inside right-block */
[data-id="right-block"] .prose :where(p, h1, h2, h3, h4, ul, ol, blockquote) { 
  margin: 0; 
}

/* Ensure no grid row gap leaks */
.min-h-screen.grid { 
  gap: 0; 
  row-gap: 0; 
  column-gap: 0; 
}
[data-id="works"] { 
  display: inline-block; 
  line-height: 1; 
  margin: 0; 
  padding: 0; 
}

/* Debug font loading */
.debug-font {
  font-family: 'Kaarle âŒ˜ Kumppanit', 'Arial', sans-serif !important;
}

/* Debug right block alignment */
article[data-id="right-block"] {
  border: 2px solid red !important;
  background: rgba(255, 0, 0, 0.1) !important;
}
