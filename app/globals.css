@tailwind base;
@tailwind components;
@tailwind utilities;

:root { color-scheme: light; }
html,body { height: 100%; }
body { @apply bg-paper text-ink antialiased; }

/* Inherit color for links; remove global blue */
a { color: inherit; text-decoration: none; } /* only add underline where needed */

/* Headings default: uppercase, tracking; no forced bold */
h1,h2,h3 { @apply uppercase tracking-wide font-normal; }

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
  background: var(--color-accent);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #1a2ee6;
}

:focus-visible { 
  outline: 2px solid var(--color-accent); 
  outline-offset: 2px; 
}

/* Smooth transitions for better UX */
* {
  transition: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;
}

/* Global margin system - computed spacing unit M */
:root{
  --kk-left-col: 420px;  /* logo column */
  --kk-right-col: 52ch;  /* right text width */
  --kk-M: 100px;         /* will be computed */
  --kk-right-top-offset: 0px; /* filled by engine */
}
a { color: inherit; text-decoration: none; } /* default no underline */

/* Kill margin leakage in measured cells */
[data-id="works"],
[data-id="logo-col"],
[data-id="right-block"],
[data-id="about"] {
  margin: 0;
  padding: 0;
  border: 0;
}

/* Belt and suspenders: zero all child margins in right-block */
[data-id="right-block"] > * { 
  margin: 0 !important; 
}

/* Use grid for controlled spacing in right-block - prevents margin collapse */
[data-id="right-block"] { 
  display: grid; 
  gap: 10px; 
}

/* Critical: remove top/bottom margins of first/last children */
[data-id="right-block"] > :first-child,
[data-id="logo-col"] > :first-child,
[data-id="works"] > :first-child,
[data-id="about"] > :first-child {
  margin-top: 0;
}

[data-id="right-block"] > :last-child,
[data-id="logo-col"] > :last-child,
[data-id="works"] > :last-child,
[data-id="about"] > :last-child {
  margin-bottom: 0;
}

/* Normalize headings/paragraphs inside right block */
[data-id="right-block"] h1,
[data-id="right-block"] h2,
[data-id="right-block"] p,
[data-id="right-block"] ul,
[data-id="right-block"] ol {
  margin: 0;
}

/* forbid extra spacing leaking from the top label into the gap */
[data-id="works"] > * { 
  margin: 0; 
  padding: 0; 
}
[data-id="works"] { 
  line-height: 1; 
}

/* If typography plugin 'prose' is used anywhere: neutralize it inside right-block */
[data-id="right-block"] .prose :where(p, h1, h2, h3, h4, ul, ol, blockquote) { 
  margin: 0; 
}

/* Ensure no grid row gap leaks */
.min-h-screen.grid { 
  gap: 0; 
  row-gap: 0; 
  column-gap: 0; 
}
[data-id="works"] { 
  display: inline-block; 
  line-height: 1; 
  margin: 0; 
  padding: 0; 
}
[data-id="right-block"] { 
  display: grid; 
  row-gap: 10px; 
  padding-top: var(--kk-right-top-offset);
}

/* Debug font loading */
.debug-font {
  font-family: 'Kaarle & Kumppanit', 'Arial', sans-serif !important;
}
