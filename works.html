<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Works - Kaarle & Kumpp.</title>
  <meta name="description" content="Problem solving and storytelling.">
  <link rel="icon" href="icon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="styles.css">
  
  <!-- Load Google Font EB Garamond for serif -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
</head>
<body data-page="works">
  <div class="site-frame">
    <main class="bg-paper text-ink relative works-page" id="main-container">
      <div id="root">
        <main class="em">
          
          <!-- Desktop Layout - Left Column -->
          <aside class="desktop-only">
            <!-- Left Top (empty) -->
            
            <!-- Left Middle - Fields List -->
            <div data-id="left-middle">
              <div class="text-right leading-tight">
                <div id="fields-list" role="listbox" aria-label="Fields" class="relative">
                  <!-- Fields will be dynamically loaded here -->
                </div>
              </div>
            </div>
            
            <!-- Left Bottom (empty) -->
          </aside>

          <!-- Desktop Layout - Right Column -->
          <article class="desktop-only">
            <!-- Right Top - Logo Link -->
            <div data-id="right-top">
              <a href="index.html" class="nav-right">KAARLE <span class="apple-mark">&#xF8FF;</span> KUMPP.</a>
            </div>
            
            <!-- Right Middle - Clients List -->
            <div data-id="right-middle">
              <div id="clients-list" class="about-prose" role="listbox" aria-label="Clients">
                <!-- Clients will be dynamically loaded here -->
              </div>
            </div>
            
            <!-- Right Bottom - About Link -->
            <div data-id="right-bottom">
              <a href="about.html" class="nav-right">ABOUT</a>
            </div>
          </article>

          <!-- Mobile Layout -->
          <div data-id="left-middle" class="mobile-only">
            <div class="left-cell flex items-center justify-center logo">
              <a href="index.html" style="text-decoration: none; color: inherit; display: block;">
                <div class="text-center leading-tight">
                  <div class="sans fs-logo uppercase tracking-wide font-normal">KAARLE</div>
                  <div class="my-1 flex justify-center fs-logo">
                    <span aria-hidden="true" title="Logo" class="apple-mark">&#xF8FF;</span>
                  </div>
                  <div class="sans fs-logo uppercase tracking-wide font-normal">KUMPP.</div>
                </div>
              </a>
            </div>
          </div>
          
          <!-- Mobile Additional Content -->
          <div class="mobile-only">
            <div class="mobile-content">
              <!-- Fields Container -->
              <div data-id="mobile-fields" id="mobile-fields" class="text-center">
                <!-- Mobile fields will be dynamically loaded here -->
              </div>
              
              <!-- Clients Container -->
              <div data-id="mobile-clients" id="mobile-clients" class="text-center">
                <!-- Mobile clients will be dynamically loaded here -->
              </div>
              
              <!-- ABOUT link at bottom -->
              <div data-id="mobile-nav" class="mobile-nav text-center">
                <a href="about.html" class="nav-right">ABOUT</a>
              </div>
            </div>
          </div>
          
        </main>
      </div>
      
      <!-- SVG Overlay for Desktop Connections -->
      <svg id="connections-svg" aria-hidden="true" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 10; pointer-events: none; display: block;">
        <defs>
          <clipPath id="kk-corridor">
            <rect id="corridor-rect" x="0" y="0" width="0" height="0" />
          </clipPath>
        </defs>
        <g id="lines-group"></g>
      </svg>
    </main>
  </div>

  <!-- Embedded Data -->
  <script>
    // Embed data directly to avoid CORS issues
    window.FIELDS_DATA = [
      {"id": "identity-building", "name": "identity building"},
      {"id": "strategic-vision", "name": "strategic vision"},
      {"id": "advertising", "name": "advertising"},
      {"id": "message-media", "name": "message & media"},
      {"id": "legacy-transition", "name": "legacy transition"},
      {"id": "talk-shows", "name": "talk shows"},
      {"id": "gun-for-hire", "name": "gun-for-hire"}
    ];
    
    window.CLIENTS_DATA = [
      {"slug": "basso", "name": "BASSO", "fields": ["talk-shows"]},
      {"slug": "ed", "name": "ED", "fields": ["identity-building", "strategic-vision", "advertising", "message-media"]},
      {"slug": "flow-festival", "name": "FLOW FESTIVAL", "fields": ["gun-for-hire"]},
      {"slug": "helsingin-yliopisto", "name": "HELSINGIN YLIOPISTO", "fields": ["gun-for-hire"]},
      {"slug": "hobo", "name": "HOBO", "fields": ["strategic-vision"]},
      {"slug": "jcad", "name": "JCAD", "fields": ["identity-building", "strategic-vision", "advertising", "message-media", "legacy-transition"]},
      {"slug": "kaarlen-maailma", "name": "KAARLEN MAAILMA", "fields": ["talk-shows"]},
      {"slug": "kesko", "name": "KESKO", "fields": ["strategic-vision"]},
      {"slug": "keskusteluohjelma", "name": "KESKUSTELUOHJELMA", "fields": ["identity-building", "strategic-vision", "message-media", "talk-shows"]},
      {"slug": "lubrican", "name": "LUBRICAN", "fields": ["identity-building"]},
      {"slug": "r-collection", "name": "R-COLLECTION", "fields": ["identity-building", "strategic-vision", "advertising", "message-media", "legacy-transition"]},
      {"slug": "radio-helsinki", "name": "RADIO HELSINKI", "fields": ["talk-shows"]},
      {"slug": "secto-automotive", "name": "SECTO AUTOMOTIVE", "fields": ["identity-building"]},
      {"slug": "secto-labs", "name": "SECTO LABS", "fields": ["identity-building"]},
      {"slug": "suomen-evlut-kirkko", "name": "SUOMEN EVLUT KIRKKO", "fields": ["message-media"]}
    ];
  </script>
  
  <!-- Works Page JavaScript -->
  <script src="works.js"></script>
  
  <!-- Debug toggle script (press 'd' key) -->
  <script>
    (function(){
      try {
        var q = new URLSearchParams(window.location.search);
        if (q.get('debug') === '1') document.documentElement.classList.add('debug');
        if (q.get('debug') === '2') document.body.classList.add('debug-on');

        window.addEventListener('keydown', function(e){
          if (e.key.toLowerCase() === 'd' && !(e.metaKey || e.ctrlKey || e.altKey)) {
            if (e.shiftKey) {
              document.body.classList.toggle('debug-on');
            } else {
              document.documentElement.classList.toggle('debug');
            }
          }
        }, {passive:true});
      } catch(err) {}
    })();
  </script>
</body>
</html>

